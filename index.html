<!DOCTYPE html>
<html lang="vi">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>CodeSparkX</title>

  <link rel="stylesheet" href="assets/css/base.css" />
  <link rel="stylesheet" href="assets/css/layout.css" />
  <link rel="stylesheet" href="assets/css/components.css" />
  <link rel="stylesheet" href="assets/css/sidebar.css" />
  <link rel="stylesheet" href="assets/css/editor.css" />
  <link rel="stylesheet" href="assets/css/terminal.css" />
  <link rel="stylesheet" href="assets/css/modal.css" />

  <link rel="stylesheet" href="assets/style.css" />

  <script src="https://cdnjs.cloudflare.com/ajax/libs/ace/1.4.12/ace.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/ace/1.4.12/ext-language_tools.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jszip/3.10.1/jszip.min.js"></script>
</head>

<body class="theme-dark">
  <header class="topbar">
    <div class="top-left">
      <a class="logo" href="#">
        <img src="https://res.cloudinary.com/dqkysbzie/image/upload/v1764081010/Logo-mini_p1obee.png" alt="Logo"
          class="brand-logo" />
      </a>
    </div>

    <div class="top-center">
      <button type="button" id="runBtn" class="btn-run-accent" title="Chแบกy mรฃ nguแปn">
        <span class="btn-icon">โถ</span> Chแบกy
      </button>
      <!-- <div class="save-menu-container">
                <button type="button" id="saveBtn" class="icon-btn" title="Lฦฐu dแปฑ รกn">๐พ</button>
            </div> -->
    </div>

    <div class="top-right">
      <!-- <label class="switch">
                <input id="themeToggle" type="checkbox" />
                <span class="slider"></span>
            </label> -->
      <!-- <button class="btn-dark-pill">๐ Chia sแบป</button> -->
      <button id="signinBtn" class="btn-accent-pill">ฤฤng nhแบญp</button>
      <span id="userDisplay" style="font-size: 13px; font-weight: bold; display: none; margin-right: 10px;"></span>
      <button id="logoutBtn" class="btn-dark-pill" style="display: none;">ฤฤng xuแบฅt</button>
    </div>
  </header>

  <main class="layout">
    <aside class="activity-bar">
      <div class="activity-top">
        <div class="activity-item active" id="actExplorer" title="Explorer">
          <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <path d="M3 3h18v18H3zM9 3v18" />
          </svg>
        </div>
        <div class="activity-item" id="actProject" title="Danh sรกch Dแปฑ รกn">
          <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <path d="M22 19a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h5l2 3h9a2 2 0 0 1 2 2z" />
            <line x1="9" y1="13" x2="15" y2="13" />
            <line x1="12" y1="10" x2="12" y2="16" />
          </svg>
        </div>
      </div>
      <div class="activity-bottom">
        <div class="activity-item" title="Settings"><svg width="24" height="24" viewBox="0 0 24 24" fill="none"
            stroke="currentColor" stroke-width="2">
            <circle cx="12" cy="12" r="3" />
            <path
              d="M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z" />
          </svg></div>
      </div>
    </aside>

    <aside class="file-explorer">
      <div class="file-explorer-header">
        <span>TแปP TIN</span>
        <div class="explorer-actions">
          <button id="newFileBtn" class="icon-btn" title="New File">๐</button>
          <button id="newFolderBtn" class="icon-btn" title="New Folder">๐</button>
          <button id="refreshBtn" class="icon-btn" title="Refresh">๐</button>
          <button id="collapseBtn" class="icon-btn" title="Collapse">-</button>
        </div>
      </div>
      <ul id="fileTree" class="file-tree-list"></ul>
    </aside>

    <section class="workbench">
      <div class="breadcrumbs" id="breadcrumbs">
        <span class="breadcrumb-item" id="breadcrumbProjectName">CodeSparkX</span>

        <span class="breadcrumb-separator" id="crumbSep">โบ</span>
        <span class="breadcrumb-item active" id="breadcrumbFile"></span>
      </div>
      <div id="welcomeScreen" class="welcome-screen hidden">
        <div class="welcome-content">
          <h1>CodeSparkX</h1>
          <p>Start coding now...</p>
        </div>
      </div>
      <div id="editor" class="editor"></div>
      <div id="main-editor-area" class="editor-area" style="position: relative; height: 100%; width: 100%;">

        <div id="empty-state" class="empty-state">
          <img src="https://res.cloudinary.com/dqkysbzie/image/upload/v1764081010/Logo_CodeSparkX_Khang_mlfjxp.png"
            alt="Code SparkX" class="logo-dim">
        </div>

        <div id="ace-editor-container" class="editor-instance hidden"></div>

      </div>
    </section>

    <div class="gutter" id="gutterX"></div>

    <section class="terminal-panel">
      <div class="term-toolbar">
        <div class="term-title">TERMINAL</div>
      </div>
      <div id="terminal" class="terminal-body"></div>
    </section>

    <ul id="contextMenu" class="context-menu hidden">
      <li id="ctxRename">โ๏ธ ฤแปi tรชn <span style="margin-left:auto;color:#666;font-size:11px">F2</span></li>
      <li id="ctxCut">โ๏ธ Cแบฏt <span style="margin-left:auto;color:#666;font-size:11px">Ctrl+X</span></li>
      <li id="ctxCopy">๐ Sao chรฉp <span style="margin-left:auto;color:#666;font-size:11px">Ctrl+C</span></li>
      <li id="ctxPaste">๐ Dรกn <span style="margin-left:auto;color:#666;font-size:11px">Ctrl+V</span></li>
      <li class="separator"></li>
      <li id="ctxDownload">โฌ๏ธ Tแบฃi vแป</li>
      <li class="separator"></li>
      <li id="ctxDelete" style="color: #ff6b6b;">๐๏ธ Xรณa <span
          style="margin-left:auto;color:#ff6b6b;font-size:11px">Del</span></li>
    </ul>


    <div id="authModal" class="modal-overlay hidden">
      <div class="modal-content" style="width: 350px;">
        <h3 id="authTitle">ฤฤng nhแบญp</h3>
        <div class="form-group"><label>Tรชn ฤฤng nhแบญp</label><input type="text" id="authUsername" class="modal-input">
        </div>
        <div class="form-group"><label>Mแบญt khแบฉu</label><input type="password" id="authPassword" class="modal-input">
        </div>
        <div id="authMessage" class="auth-message hidden"></div>
        <div class="modal-actions">
          <a href="#" id="switchAuthMode" style="font-size:13px;margin-right:auto;">Chฦฐa cรณ TK?</a>
          <button id="authCancelBtn" class="btn modal-btn-cancel">Hแปงy</button>
          <button id="authSubmitBtn" class="btn modal-btn-create">ฤฤng nhแบญp</button>
        </div>
      </div>
    </div>

    <div id="projectManagerModal" class="modal-overlay hidden">
      <div class="modal-content project-modal-box">
        <div class="pm-header">
          <h3>Danh sรกch Dแปฑ รกn</h3>
          <button id="pmNewProjectBtn" class="btn modal-btn-create">+ Dแปฑ รกn mแปi</button>
        </div>
        <div id="projectListContainer" class="pm-body">
          <p class="empty-msg">ฤang tแบฃi...</p>
        </div>
        <div class="pm-footer">
          <button id="pmLogoutBtn" class="btn btn-danger-outline">ฤฤng xuแบฅt</button>
          <button id="pmCloseBtn" class="btn modal-btn-cancel">ฤรณng</button>
        </div>
      </div>
    </div>

    <div id="createProjectModal" class="modal-overlay hidden">
      <div class="modal-content" style="width: 380px;">
        <h3 style="margin-top:0;">Tแบกo dแปฑ รกn mแปi</h3>
        <div class="form-group">
          <label>Tรชn dแปฑ รกn</label>
          <input type="text" id="newProjectInput" class="modal-input" placeholder="Vรญ dแปฅ: Bรi tแบญp lแปn...">
        </div>
        <div class="modal-actions">
          <button id="btnCancelCreateProj" class="btn modal-btn-cancel">Hแปงy</button>
          <button id="btnConfirmCreateProj" class="btn modal-btn-create">Tแบกo ngay</button>
        </div>
      </div>
    </div>

    <div id="deleteConfirmModal" class="modal-overlay hidden">
      <div class="confirm-modal-content" style="border: 1px solid #ff6b6b;">
        <h3 style="margin-top: 0; color: #ff6b6b;">Xรกc nhแบญn xรณa</h3>
        <p id="deleteConfirmText">...</p>
        <div class="confirm-actions">
          <button id="btnCancelDelete" class="btn btn-secondary">Hแปงy</button>
          <button id="btnConfirmDelete" class="btn btn-primary" style="background-color: #ff6b6b;">Xรณa vฤฉnh
            viแปn</button>
        </div>
      </div>
    </div>

    <div id="moveConfirmModal" class="modal-overlay hidden">
      <div class="confirm-modal-content">
        <h3 style="margin-top:0;">Di chuyแปn</h3>
        <p id="moveConfirmText">...</p>
        <label class="confirm-checkbox-label"><input type="checkbox" id="dontAskMoveAgain"> ฤแปซng hแปi lแบกi tรดi</label>
        <div class="confirm-actions">
          <button id="btnCancelMove" class="btn btn-secondary">Hแปงy</button>
          <button id="btnConfirmMove" class="btn btn-primary">Di chuyแปn</button>
        </div>
      </div>
    </div>

    <div id="logoutModal" class="modal-overlay hidden">
      <div class="confirm-modal-content" style="border: 1px solid #ff6b6b;">
        <h3 style="margin-top: 0; color: #ff6b6b;">ฤฤng xuแบฅt</h3>
        <p>Bแบกn cรณ chแบฏc muแปn ฤฤng xuแบฅt?</p>
        <div class="confirm-actions">
          <button id="btnCancelLogout" class="btn btn-secondary">Hแปงy</button>
          <button id="btnConfirmLogout" class="btn btn-primary" style="background-color: #ff6b6b;">ฤฤng xuแบฅt</button>
        </div>
      </div>
    </div>

  </main>

  <footer class="status-bar">
    <div class="status-left">
      <span class="status-item" id="statusIssues">โ 0 errors</span>
    </div>
    <div class="status-right">
      <span class="status-item" id="statusCursor">Ln 1, Col 1</span>
      <span class="status-item">UTF-8</span>
      <span class="status-item" id="statusLang">Python</span>
    </div>
  </footer>

  <script type="module" src="src/main.js"></script>
</body>

</html>